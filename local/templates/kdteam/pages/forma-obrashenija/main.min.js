function update_hospital_select(){var e,t,s,n,i,l,c;for(e=document.getElementsByClassName("custom-select"),t=0;t<2;t++){for(n=e[t].getElementsByTagName("select")[0],(i=document.createElement("DIV")).setAttribute("class","select-selected"),i.innerHTML=n.options[n.selectedIndex].innerHTML,e[t].appendChild(i),(l=document.createElement("DIV")).setAttribute("class","select-items select-hide"),s=1;s<n.length;s++)(c=document.createElement("DIV")).innerHTML=n.options[s].innerHTML,c.setAttribute("value",n.options[s].value),n.options[s].id?c.setAttribute("id",n.options[s].id):c.setAttribute("id","option"),c.addEventListener("click",function(e){var t,s,n,i,l;for(i=this.parentNode.parentNode.getElementsByTagName("select")[0],l=this.parentNode.previousSibling,s=0;s<i.length;s++)if(i.options[s].innerHTML==this.innerHTML){if(i.selectedIndex=s,l.innerHTML=this.innerHTML,!(l.clientWidth<310))return;{const e=l.textContent.slice(0,15)+"...";l.innerHTML=e}for(t=this.parentNode.getElementsByClassName("same-as-selected"),n=0;n<t.length;n++)t[n].removeAttribute("class");this.setAttribute("class","same-as-selected");break}l.click()}),l.appendChild(c);e[t].appendChild(l),i.addEventListener("click",function(e){e.stopPropagation(),closeAllSelect(this),this.nextSibling.classList.toggle("select-hide"),this.classList.toggle("select-arrow-active")})}document.addEventListener("click",closeAllSelect)}function update_select(){var e,t,s,n,i,l,c;for(e=document.getElementsByClassName("custom-select"),t=2;t<e.length;t++){for(n=e[t].getElementsByTagName("select")[0],(i=document.createElement("DIV")).setAttribute("class","select-selected"),i.innerHTML=n.options[n.selectedIndex].innerHTML,e[t].appendChild(i),(l=document.createElement("DIV")).setAttribute("class","select-items select-hide"),s=1;s<n.length;s++)(c=document.createElement("DIV")).innerHTML=n.options[s].innerHTML,c.setAttribute("value",n.options[s].value),n.options[s].id?c.setAttribute("id",n.options[s].id):c.setAttribute("id","option"),c.addEventListener("click",function(e){var t,s,n,i,l;for(i=this.parentNode.parentNode.getElementsByTagName("select")[0],l=this.parentNode.previousSibling,s=0;s<i.length;s++)if(i.options[s].innerHTML==this.innerHTML){if(i.selectedIndex=s,l.innerHTML=this.innerHTML,!(l.clientWidth<310))return;{const e=l.textContent.slice(0,15)+"...";l.innerHTML=e}for(t=this.parentNode.getElementsByClassName("same-as-selected"),n=0;n<t.length;n++)t[n].removeAttribute("class");this.setAttribute("class","same-as-selected");break}l.click()}),l.appendChild(c);e[t].appendChild(l),i.addEventListener("click",function(e){e.stopPropagation(),closeAllSelect(this),this.nextSibling.classList.toggle("select-hide"),this.classList.toggle("select-arrow-active")})}document.addEventListener("click",closeAllSelect)}function create_select(){var e,t,s,n,i,l,c;for(e=document.getElementsByClassName("custom-select"),t=0;t<e.length;t++){for(n=e[t].getElementsByTagName("select")[0],(i=document.createElement("DIV")).setAttribute("class","select-selected"),i.innerHTML=n.options[n.selectedIndex].innerHTML,e[t].appendChild(i),(l=document.createElement("DIV")).setAttribute("class","select-items select-hide"),s=1;s<n.length;s++)(c=document.createElement("DIV")).innerHTML=n.options[s].innerHTML,c.setAttribute("value",n.options[s].value),n.options[s].id?c.setAttribute("id",n.options[s].id):c.setAttribute("id","option"),c.addEventListener("click",function(e){var t,s,n,i,l;for(i=this.parentNode.parentNode.getElementsByTagName("select")[0],l=this.parentNode.previousSibling,s=0;s<i.length;s++)if(i.options[s].innerHTML==this.innerHTML){if(i.selectedIndex=s,l.innerHTML=this.innerHTML,!(l.clientWidth<310))return;{const e=l.textContent.slice(0,15)+"...";l.innerHTML=e}for(t=this.parentNode.getElementsByClassName("same-as-selected"),n=0;n<t.length;n++)t[n].removeAttribute("class");this.setAttribute("class","same-as-selected");break}l.click()}),l.appendChild(c);e[t].appendChild(l),i.addEventListener("click",function(e){e.stopPropagation(),closeAllSelect(this),this.nextSibling.classList.toggle("select-hide"),this.classList.toggle("select-arrow-active")})}document.addEventListener("click",closeAllSelect)}function closeAllSelect(e){var t,s,n,i=[];for(t=document.getElementsByClassName("select-items"),s=document.getElementsByClassName("select-selected"),n=0;n<s.length;n++)e==s[n]?i.push(n):s[n].classList.remove("select-arrow-active");for(n=0;n<t.length;n++)i.indexOf(n)&&t[n].classList.add("select-hide")}$(document).ready(function(){create_select(),$(document).on("click","#option",function(){let e=$(this).attr("value"),t=$(".grid"),s=$(this).attr("id");e&&"option"===s&&$.post("/ajax/main_form_oms.php",{id:e},function(e){$(t).html(e),update_select()},"html")}),$(document).on("click","#location",function(){let e=$(this).attr("value"),t=$(this).text(),s=$("#hospitals"),n=$("#region_name");console.log(t);let i=$(this).attr("id");e&&"location"===i&&$.post("/ajax/form_hospitals.php",{id:e},function(e){$(s).html(e),$(n).html(t),update_hospital_select()},"html")}),$(document).on("click","#hospital",function(){console.log("click");let e=$(this).text(),t=$("#hosptital_name");$(t).html(e)})});